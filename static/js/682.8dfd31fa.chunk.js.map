{"version":3,"file":"static/js/682.8dfd31fa.chunk.js","mappings":"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","sources":["redux/selectors.js","components/ContactForm/ContactForm.styled.jsx","components/ContactForm/ContactForm.jsx","components/Filter/Filter.styled.jsx","components/Filter/Filter.jsx","components/ContactList/ContactList.styled.jsx","components/ContactList/ContactList.jsx","pages/Contacts.js","helpers/contactUtils.js"],"sourcesContent":["export const selectContacts = state => state.contacts.array;\nexport const selectFilter = state => state.filter.query;\n\nexport const selectIsLoading = state => state.contacts.isLoading;\nexport const selectError = state => state.contacts.error;","import styled from 'styled-components';\n\nexport const FormContact = styled.form`\n  display: flex;\n  flex-direction: column;\n  padding: 20px;\n  border: 1px solid #ccc;\n  border-radius: 15px;\n  box-shadow: 0px 10px 13px -7px #000000;\n  max-width: 300px;\n  margin-top: 10px;\n`;\n\nexport const FormLabel = styled.label`\n  margin-bottom: 10px;\n`;\n\nexport const FormInput = styled.input`\n  padding: 5px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  width: 100%;\n`;\n\nexport const FormButton = styled.button`\n  padding: 10px;\n  background-color: #0088cc;\n  color: #fff;\n  border: none;\n  border-radius: 5px;\n  cursor: pointer;\n  width: 100%;\n\n  &:hover {\n    background-color: #007ab8;\n  }\n`;\n","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {\n  useAddContactsMutation,\n  useFetchContactsQuery,\n} from 'redux/contactsApi';\n\nimport {\n  FormContact,\n  FormLabel,\n  FormInput,\n  FormButton,\n} from './ContactForm.styled';\n\nexport const ContactForm = () => {\n  const { data: contacts = [] } = useFetchContactsQuery();\n  const [addContact] = useAddContactsMutation();\n\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    const isDuplicateName = contacts.some(\n      contact => contact.name.toLowerCase() === name.toLowerCase()\n    );\n\n    const isDuplicateNumber = contacts.some(\n      contact => contact.number === number\n    );\n\n    if (isDuplicateName) {\n      toast.error(`Contact with this \"${name}\" already exists!`);\n      return;\n    }\n\n    if (isDuplicateNumber) {\n      toast.error(`Contact with this \"${number}\" already exists!`);\n      return;\n    }\n\n    try {\n      await addContact({ name, number }).unwrap();\n      toast.info('Contact added successfully!');\n      setName('');\n      setNumber('');\n    } catch (error) {\n      toast.error('Failed to add contact. Please try again.');\n    }\n  };\n\n  return (\n    <FormContact onSubmit={handleSubmit}>\n      <FormLabel>\n        Name\n        <FormInput\n          type=\"text\"\n          name=\"name\"\n          value={name}\n          onChange={e => setName(e.target.value)}\n          pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n          title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n          required\n        />\n      </FormLabel>\n      <FormLabel>\n        Telephone\n        <FormInput\n          type=\"tel\"\n          name=\"phone\"\n          value={number}\n          onChange={e => setNumber(e.target.value)}\n          pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n          title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n          required\n        />\n      </FormLabel>\n      <FormButton type=\"submit\">Add contact</FormButton>\n    </FormContact>\n  );\n};\n","import styled from 'styled-components';\n\nexport const FilterBox = styled.div`\n  padding: 20px;\n  border: 1px solid #ccc;\n  border-radius: 15px;\n  box-shadow: 0px 10px 13px -7px #000000;\n  margin-top: 10px;\n  margin-bottom: 40px;\n  max-width: 300px;\n`;\n\nexport const FilterLabel = styled.label`\n  margin-bottom: 10px;\n`;\n\nexport const FilterInput = styled.input`\n  padding: 5px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  width: 100%;\n`;\n","import { useSelector, useDispatch } from 'react-redux';\nimport { setFilter } from 'redux/filterSlice';\nimport { selectFilter } from 'redux/selectors';\nimport { FilterBox, FilterLabel, FilterInput } from './Filter.styled';\n\nexport const Filter = () => {\n  const filter = useSelector(selectFilter);\n\n  const dispatch = useDispatch();\n\n  const handleChange = e => {\n    dispatch(setFilter(e.currentTarget.value));\n  };\n\n  return (\n    <FilterBox>\n      <FilterLabel>\n        Find contacts by name\n        <FilterInput\n          type=\"text\"\n          name=\"filter\"\n          value={filter.query}\n          onChange={handleChange}\n        />\n      </FilterLabel>\n    </FilterBox>\n  );\n};\n","import styled from 'styled-components';\n\nexport const ContactsUl = styled.ul`\n  list-style: none;\n  padding: 0 20px 0 0px;\n`;\n\nexport const ContactsLi = styled.li`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  margin-bottom: 6px;\n  border-bottom: 1px solid #ccc;\n  border-radius: 10px;\n  background-color: #f5f5f5;\n  width: 380px;\n\n  &:last-child {\n    border-bottom: none;\n    margin-bottom: 0;\n  }\n\n  @media (max-width: 410px) {\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n  }\n`;\n\nexport const ContactsText = styled.p`\n  margin: 0;\n  width: 120px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    margin-bottom: 8px;\n  }\n`;\n","import { useDeleteContactsMutation } from 'redux/contactsApi';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { RiDeleteBinLine } from 'react-icons/ri';\nimport { Button } from '@chakra-ui/react';\nimport { ContactsUl, ContactsLi, ContactsText } from './ContactList.styled.jsx';\n\nexport const ContactList = ({ contacts }) => {\n  const [deleteContact] = useDeleteContactsMutation();\n\n  const handleDeleteContact = contactId => {\n    deleteContact(contactId);\n    toast.info('Contact deleted successfully!');\n  };\n\n  return (\n    <ContactsUl>\n      {contacts.map(({ name, number, id }, index) => (\n        <ContactsLi key={id} dark={index % 2 === 0}>\n          <ContactsText>{name}</ContactsText>\n          <ContactsText>{number}</ContactsText>\n          <Button\n            colorScheme=\"telegram\"\n            size=\"sm\"\n            onClick={() => handleDeleteContact(id)}\n          >\n            <RiDeleteBinLine />\n          </Button>\n        </ContactsLi>\n      ))}\n    </ContactsUl>\n  );\n};\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useFetchContactsQuery } from 'redux/contactsApi';\nimport { selectFilter } from 'redux/selectors';\n\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nimport { Text } from '@chakra-ui/react';\n\nimport { ContactForm } from 'components/ContactForm';\nimport { Filter } from 'components/Filter';\nimport { ContactList } from 'components/ContactList';\nimport { Loader } from 'components/Loader/Loader';\n\nimport { getVisibleContacts } from 'helpers/contactUtils';\n\nfunction Contacts() {\n  const {\n    refetch,\n    data: contacts = [],\n    isFetching: isLoading,\n    isLoading: isFirstLoading,\n    // error,\n  } = useFetchContactsQuery();\n\n  useEffect(() => {\n    refetch();\n  }, [refetch]);\n\n  const filter = useSelector(selectFilter);\n\n  const visibleContacts = getVisibleContacts(contacts, filter);\n\n  return (\n    <div className=\"container\">\n      <div className=\"section\">\n        {isLoading && <Loader />}\n\n        <Text fontSize=\"18px\" fontWeight=\"700\" color=\"#007ab8\">\n          Create Contact\n        </Text>\n        <ContactForm />\n      </div>\n      <div className=\"section\">\n        <Text fontSize=\"18px\" fontWeight=\"700\" color=\"#007ab8\">\n          Search Сontact\n        </Text>\n        <Filter />\n        {visibleContacts.length && !isFirstLoading ? (\n          <ContactList contacts={visibleContacts} />\n        ) : (\n          <p>Contact not found!</p>\n        )}\n        <ToastContainer />\n      </div>\n    </div>\n  );\n}\n\nexport default Contacts;\n","export const getVisibleContacts = (contacts, filter) => {\n  const normalizedFilter =\n    filter && filter.query ? filter.query.toLowerCase() : '';\n\n  return contacts.filter(contact =>\n    contact.name.toLowerCase().includes(normalizedFilter)\n  );\n};\n"],"names":["selectFilter","state","filter","query","FormContact","styled","FormLabel","FormInput","FormButton","ContactForm","useFetchContactsQuery","data","contacts","useAddContactsMutation","addContact","useState","name","setName","number","setNumber","handleSubmit","e","preventDefault","isDuplicateName","some","contact","toLowerCase","isDuplicateNumber","toast","unwrap","onSubmit","type","value","onChange","target","pattern","title","required","FilterBox","FilterLabel","FilterInput","Filter","useSelector","dispatch","useDispatch","setFilter","currentTarget","ContactsUl","ContactsLi","ContactsText","ContactList","useDeleteContactsMutation","deleteContact","map","index","id","dark","colorScheme","size","onClick","refetch","isLoading","isFetching","isFirstLoading","useEffect","visibleContacts","normalizedFilter","includes","getVisibleContacts","className","Loader","fontSize","fontWeight","color","length"],"sourceRoot":""}