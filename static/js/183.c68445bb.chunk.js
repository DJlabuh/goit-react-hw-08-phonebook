"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[183],{183:function(n,e,t){t.r(e),t.d(e,{default:function(){return M}});var r,a,i,o,c,s,d=t(2791),l=t(5048),x=t(8989),m=function(n){return n.filter.query},u=t(9085),p=(t(5462),t(9229)),h=t(5861),f=t(9439),b=t(4687),g=t.n(b),j=t(5705),v=t(8007),w=t(2392),y=t(9140),C=t(4224),Z=t(3329),k=RegExp(/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/),z=(0,v.Ry)({name:(0,v.Z_)().min(6,"Name must be at least 6 digits!").required("Name is required!"),number:(0,v.Z_)().matches(k,"Invalid phone").required("Phone is required")}),S={name:"",number:""},P=function(){var n=(0,x.Jx)().data,e=void 0===n?[]:n,t=(0,x.F3)(),r=(0,f.Z)(t,1)[0],a=function(){var n=(0,h.Z)(g().mark((function n(t,a){var i,o,c;return g().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=a.resetForm,o=e.some((function(n){return n.name.toLowerCase()===t.name.toLowerCase()})),c=e.some((function(n){return n.number===t.number})),!o){n.next=6;break}return u.Am.error('Contact with this "'.concat(t.name,'" already exists!')),n.abrupt("return");case 6:if(!c){n.next=9;break}return u.Am.error('Contact with this "'.concat(t.number,'" already exists!')),n.abrupt("return");case 9:return n.prev=9,n.next=12,r(t).unwrap();case 12:u.Am.info("Contact added successfully!"),i(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9),u.Am.error("Failed to add contact. Please try again.");case 19:case"end":return n.stop()}}),n,null,[[9,16]])})));return function(e,t){return n.apply(this,arguments)}}();return(0,Z.jsx)(j.J9,{initialValues:S,validationSchema:z,onSubmit:a,children:(0,Z.jsx)(j.l0,{autoComplete:"off",children:(0,Z.jsxs)(w.NI,{width:"360px",p:"20px",mt:"14px",border:"1px",borderRadius:"15px",borderColor:"gray.200",boxShadow:"lg",bg:"white",children:[(0,Z.jsx)(j.gN,{as:y.I,type:"text",name:"name",variant:"outline",placeholder:"Enter name",size:"md",title:"Please enter a name contact"}),(0,Z.jsx)(j.Bc,{name:"name",component:function(n){var e=n.children;return(0,Z.jsx)(p.x,{color:"red",fontSize:"sm",mt:"1",children:e})}}),(0,Z.jsx)(j.gN,{as:y.I,type:"tel",name:"number",placeholder:"Enter phone",size:"md",mt:"12px",title:"Please enter a phone number in the format (123) 456-7890"}),(0,Z.jsx)(p.x,{fontSize:"sm",color:"gray.500",mt:"2",children:"Example: (123) 456-7890"}),(0,Z.jsx)(j.Bc,{name:"number",component:function(n){var e=n.children;return(0,Z.jsx)(p.x,{color:"red",fontSize:"sm",mt:"1",children:e})}}),(0,Z.jsx)(C.z,{type:"submit",colorScheme:"telegram",variant:"outline",mt:"20px",children:"Add contact"})]})})})},N=t(6895),q=t(168),A=t(7691),I=A.ZP.div(r||(r=(0,q.Z)(["\n  padding: 20px;\n  border: 1px solid #ccc;\n  border-radius: 15px;\n  box-shadow: 0px 10px 13px -7px #000000;\n  margin-top: 10px;\n  margin-bottom: 40px;\n  max-width: 300px;\n"]))),L=A.ZP.label(a||(a=(0,q.Z)(["\n  margin-bottom: 10px;\n"]))),_=A.ZP.input(i||(i=(0,q.Z)(["\n  padding: 5px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  width: 100%;\n"]))),E=function(){var n=(0,l.v9)(m),e=(0,l.I0)();return(0,Z.jsx)(I,{children:(0,Z.jsxs)(L,{children:["Find contacts by name",(0,Z.jsx)(_,{type:"text",name:"filter",value:n,onChange:function(n){e((0,N.T)(n.currentTarget.value.trim()))}})]})})},F=t(7425),J=A.ZP.ul(o||(o=(0,q.Z)(["\n  list-style: none;\n  padding: 0 20px 0 0px;\n"]))),R=A.ZP.li(c||(c=(0,q.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 10px;\n  margin-bottom: 6px;\n  border-bottom: 1px solid #ccc;\n  border-radius: 10px;\n  background-color: #f5f5f5;\n  width: 380px;\n\n  &:last-child {\n    border-bottom: none;\n    margin-bottom: 0;\n  }\n\n  &:nth-child(2n + 1) {\n    background-color: #e9e9e9;\n  }\n\n  @media (max-width: 410px) {\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n  }\n"]))),W=A.ZP.p(s||(s=(0,q.Z)(["\n  margin: 0;\n  width: 120px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    margin-bottom: 8px;\n  }\n"]))),B=function(n){var e=n.contacts,t=(0,x.zr)(),r=(0,f.Z)(t,2),a=r[0],i=r[1].isLoading;return(0,Z.jsx)(J,{children:e.map((function(n,e){var t=n.name,r=n.number,o=n.id;return(0,Z.jsxs)(R,{children:[(0,Z.jsx)(W,{children:t}),(0,Z.jsx)(W,{children:r}),(0,Z.jsx)(C.z,{colorScheme:"telegram",size:"sm",onClick:function(){return a(o),void u.Am.info("Contact deleted successfully!")},disabled:i,children:(0,Z.jsx)(F.qy0,{})})]},o)}))})},T=t(9649);var M=function(){var n=(0,x.Jx)(),e=n.refetch,t=n.data,r=void 0===t?[]:t,a=n.isFetching,i=n.isLoading;(0,d.useEffect)((function(){e()}),[e]);var o=function(n,e){var t=e.toLowerCase();return n.filter((function(n){return n.name.toLowerCase().includes(t)}))}(r,(0,l.v9)(m));return(0,Z.jsxs)("div",{className:"container",children:[(0,Z.jsxs)("div",{className:"section",children:[a&&(0,Z.jsx)(T.a,{}),(0,Z.jsx)(p.x,{fontSize:"18px",fontWeight:"700",color:"#007ab8",children:"Create Contact"}),(0,Z.jsx)(P,{})]}),(0,Z.jsxs)("div",{className:"section",children:[(0,Z.jsx)(p.x,{fontSize:"18px",fontWeight:"700",color:"#007ab8",children:"Search \u0421ontact"}),(0,Z.jsx)(E,{}),(0,Z.jsx)(p.x,{fontSize:"18px",fontWeight:"700",color:"#007ab8",mb:"16px",children:"My \u0421ontacts"}),o.length&&!i?(0,Z.jsx)(B,{contacts:o}):(0,Z.jsx)("p",{children:"Contact not found!"}),(0,Z.jsx)(u.Ix,{})]})]})}}}]);
//# sourceMappingURL=183.c68445bb.chunk.js.map